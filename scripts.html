<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>My MoC Scripts Pastebin</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f4f4f4;
      padding: 20px;
    }
    .card {
      background: white;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      background: #eee;
      padding: 10px;
      border-radius: 5px;
      overflow-x: auto;
    }
    button {
      margin-top: 5px;
    }
    #menu {
      margin-bottom: 30px;
      padding: 10px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    #menu a {
      margin-right: 15px;
      text-decoration: none;
      color: #333;
      font-weight: bold;
    }
    #menu a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1>üìú My MoC Scripts Pastebin</h1>

  <div id="menu">Loading menu...</div>
  <div id="scripts"></div>

  <script>
    const scriptList = [
      {
        file: 'LTrack.js',
        title: 'üß≠ Loot Tracker',
        description: 'Tracks and displays the loot drops on the map.'
      },
      {
        file: 'BankEnhance.js',
        title: 'üí∞ Bank Enhancement',
        description: 'Enhances the bank with color and filters.'
      },
	  {
        file: 'how.js',
        title: 'üìñ How?',
        description: 'How to Use & Uninstall Scripts'
      },
      {
        file: 'KTrack.js',
        title: 'üó°Ô∏è Kill Tracker',
        description: 'Counts and logs player NPC kills during a session. *buggy*'
      },
      {
        file: 'replay.js',
        title: '‚ñ∂Ô∏è  Screen Recorder',
        description: 'Allows the user to record their mirage gameplay via a button click. saves to default downloads folder.'
      },
      {
        file: 'Vitals.js',
        title: '‚ù§Ô∏è Player Vitals Bars',
        description: 'Tracks players Vitals bars, allows you to move and lock them, hides old bars.'
      },
      {
        file: 'PTrack.js',
        title: 'üß≠ Player Tracker',
        description: 'Tracks players and objects within the room and lists them. *WIP*'
      },
      {
        file: 'DTrack.js',
        title: 'üíÄ Damage Tracker',
        description: 'Keeps a record of recent player damage *buggy*.'
      }
    ];

    const container = document.getElementById('scripts');
    const menu = document.getElementById('menu');

    function escapeHTML(str) {
      return str
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;");
    }

    // Build menu links
    menu.innerHTML = scriptList.map(script =>
      `<a href="#card-${script.file}">${script.title}</a>`
    ).join('');

    // Load and render script content
    scriptList.forEach(script => {
      fetch(`scripts/${script.file}`)
        .then(res => res.text())
        .then(code => {
          const escaped = escapeHTML(code);
          const card = document.createElement('div');
          card.className = 'card';
          card.id = `card-${script.file}`;
          card.innerHTML = `
            <h2>${script.title}</h2>
            <p>${script.description}</p>
            <pre id="code-${script.file}">${escaped}</pre>
            <button onclick="copyToClipboard('code-${script.file}')">Copy to Clipboard</button>
          `;
          container.appendChild(card);
        });
    });

    function copyToClipboard(id) {
      const code = document.getElementById(id).innerText;
      navigator.clipboard.writeText(code).then(() => alert("Copied!"));
    }
  </script>
</body>
</html>
